[gd_scene load_steps=8 format=3 uid="uid://dqem531qms3s4"]

[ext_resource type="Script" path="res://components/health_component.gd" id="1_llw7g"]
[ext_resource type="Script" path="res://enemies/ground_vehicle.gd" id="1_xoxvu"]
[ext_resource type="Script" path="res://components/death_component.gd" id="2_sy26m"]
[ext_resource type="Texture2D" uid="uid://d0qx04c0b3isw" path="res://assets/projectiles/fire_sheet_1.png" id="4_cvlng"]

[sub_resource type="Animation" id="Animation_24ypw"]
length = 0.001

[sub_resource type="Animation" id="Animation_b2hdt"]
resource_name = "die"
length = 6.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("DeathAnimation:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 6),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0, 80]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_1l5w5"]
_data = {
"RESET": SubResource("Animation_24ypw"),
"die": SubResource("Animation_b2hdt")
}

[node name="GroundVehicle" type="CharacterBody2D"]
collision_layer = 2
collision_mask = 15
motion_mode = 1
script = ExtResource("1_xoxvu")

[node name="VehicleSprite" type="Sprite2D" parent="."]

[node name="HealthComponent" type="Node2D" parent="." node_paths=PackedStringArray("death_component")]
script = ExtResource("1_llw7g")
death_component = NodePath("../DeathComponent")

[node name="DeathComponent" type="Node2D" parent="." node_paths=PackedStringArray("death_animation_player", "death_animation")]
script = ExtResource("2_sy26m")
death_animation_player = NodePath("../DeathAnimationPlayer")
death_animation = NodePath("../DeathAnimation")

[node name="DeathAnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_1l5w5")
}

[node name="DeathAnimation" type="Sprite2D" parent="."]
visible = false
texture = ExtResource("4_cvlng")
hframes = 9
vframes = 9

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
